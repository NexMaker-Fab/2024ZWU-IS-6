<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="kaiyuan.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Archivo+Black&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/highlight.min.js"></script>
</head>
<body>
    <a href="index.html" class="corner-link top-left">Menu</a>
    <a href="see all p.html" class="corner-link top-right">Back</a>
    <div class="paper">
        <div class="text">


          <h1>a tool similar with processing--p5.js
            <h3>P5.js is a creative programming framework based on JavaScript, aimed at making programming more accessible and interesting.
            <h3>It is based on the ideas and syntax of Processing and provides a simple and easy-to-use API, allowing users to easily create interactive works, visual arts, and data visualization projects.
            <h3>Through p5.js, users can use JavaScript language to draw graphics, create animations, process user input, etc., without the need to learn complex graphics libraries or computer graphics knowledge. 
            <h3>P5.js emphasizes the core idea of creative programming, encouraging users to express their ideas and creativity through programming, thereby promoting the process of learning and exploration.P5.js provides rich documentation and examples to help users quickly get started and start creating their own projects. It is widely used in various fields such as education, art creation, and visual design, and is loved by many creative professionals and programming enthusiasts.Overall, P5.js is a powerful and flexible tool that provides an ideal platform for those interested in creative programming and visual arts, allowing them to explore and implement their creative ideas through programming.
            <img src="https://github.com/xiixiiiii/xiix/blob/main/6b3e1182fed5e7aefa72d86fe83cdb88.jpg?raw=true" alt="Demo Animation" style="max-width: 100%; height: auto;">





            <h4>Do one demo in processing which can use mouse or keyboard to interactive</h4>
    
            <h5>Moving the mouse changes the position and size of each box.Use the mouse to interact, below is the code and comments, and there are video effects.</h5>
             
            <pre style="background-color: #f3f3f3; padding: 10px;">
              <code>
                  <span style="color: #d00;">void</span> setup() {
                      size(<span style="color: #00d;">640</span>, <span style="color: #00d;">360</span>); 
                      noStroke();
                      rectMode(CENTER); <span style="color: #777; font-style: italic;">// Set mode for drawing rectangles</span>
                  }
          
                  <span style="color: #d00;">void</span> draw() {
                      background(<span style="color: #00d;">51</span>); 
                      fill(<span style="color: #00d;">255</span>, <span style="color: #00d;">204</span>); <span style="color: #777; font-style: italic;">// Set fill with transparency</span>
                      rect(mouseX, height/<span style="color: #00d;">2</span>, mouseY/<span style="color: #00d;">2</span>+<span style="color: #00d;">10</span>, mouseY/<span style="color: #00d;">2</span>+<span style="color: #00d;">10</span>); <span style="color: #777; font-style: italic;">// Rect follows mouse on x-axis</span>
                      fill(<span style="color: #00d;">255</span>, <span style="color: #00d;">204</span>); <span style="color: #777; font-style: italic;">// Set fill with transparency</span>
                      <span style="color: #00979c;">int</span> inverseX = width-mouseX; <span style="color: #777; font-style: italic;">// Inverted x-coordinate</span>
                      <span style="color: #00979c;">int</span> inverseY = height-mouseY; <span style="color: #777; font-style: italic;">// Inverted y-coordinate</span>
                      rect(inverseX, height/<span style="color: #00d;">2</span>, (inverseY/<span style="color: #00d;">2</span>)+<span style="color: #00d;">10</span>, (inverseY/<span style="color: #00d;">2</span>)+<span style="color: #00d;">10</span>); <span style="color: #777; font-style: italic;">// Rect mirrors the first</span>
                  }
              </code>
          </pre>
                  <img src="https://raw.githubusercontent.com/zhu8811cxks/-/main/img/13361185760657301.gif" class="paper-image" alt="pic">
                  
      
                  <img class="myImage" src="https://cdn.jsdelivr.net/gh/y20522/image-cloud/img/e87b4fc24cfb8028371459e13d12640302da61e814df3b-xQpTjE_fw1200_LE_auto_x2_LE_auto_x2.png"/>
            
                  <div id="particles-js"></div>
            






          <h1>Interfacing Arduino with Processing</h1>
          <p>This guide demonstrates how to interface an Arduino with Processing to visualize data from an HC-SR04 ultrasonic sensor by animating a flower's opening and closing based on distance measurements.</p>
      
          <h2>Components Needed</h2>
          <ul>
              <li>Arduino Nano or any comparable Arduino board</li>
              <li>HC-SR04 Ultrasonic Sensor</li>
              <li>Jumper wires</li>
              <li>Breadboard</li>
              <li>USB Cable</li>
          </ul>
      
          <h2>Arduino Wiring</h2>
          <p>Connect the components as follows:</p>
          <ul>
              <li>HC-SR04 VCC to Arduino Nano 5V</li>
              <li>HC-SR04 GND to Arduino Nano GND</li>
              <li>HC-SR04 Trig to Arduino Nano Digital Pin 9</li>
              <li>HC-SR04 Echo to Arduino Nano Digital Pin 10</li>
          </ul>
          <img src="https://cdn.jsdelivr.net/gh/y20522/image-cloud/img/2a014ed605780bba9c3d647c1de1eec.png" class="paper-image" alt="pic">
      
          <h2>Arduino Code</h2>
          <pre>
              <code>
                  <span class="comment">// Define pins for the ultrasonic sensor</span>
                  <span class="keyword">const int</span> trigPin = <span class="number">9</span>;
                  <span class="keyword">const int</span> echoPin = <span class="number">10</span>;
      
                  <span class="comment">// Initialize variables for duration and distance</span>
                  <span class="keyword">long</span> duration;
                  <span class="keyword">int</span> distance;
      
                  <span class="function">void setup</span>() {
                      <span class="comment">// Set up the input and output pins</span>
                      <span class="function">pinMode</span>(trigPin, <span class="keyword">OUTPUT</span>);
                      <span class="function">pinMode</span>(echoPin, <span class="keyword">INPUT</span>);
                      <span class="comment">// Start serial communication at 9600 baud</span>
                      <span class="function">Serial.begin</span>(<span class="number">9600</span>);
                  }
      
                  <span class="function">void loop</span>() {
                      <span class="comment">// Clear the trigPin</span>
                      <span class="function">digitalWrite</span>(trigPin, <span class="keyword">LOW</span>);
                      <span class="function">delayMicroseconds</span>(<span class="number">2</span>);
      
                      <span class="comment">// Set the trigPin high for 10 microseconds</span>
                      <span class="function">digitalWrite</span>(trigPin, <span class="keyword">HIGH</span>);
                      <span class="function">delayMicroseconds</span>(<span class="number">10</span>);
                      <span class="function">digitalWrite</span>(trigPin, <span class="keyword">LOW</span>);
      
                      <span class="comment">// Read the echoPin, return the sound wave travel time in microseconds</span>
                      duration = <span class="function">pulseIn</span>(echoPin, <span class="keyword">HIGH</span>);
      
                      <span class="comment">// Calculate the distance based on the echo time</span>
                      distance = duration * <span class="number">0.034</span> / <span class="number">2</span>; <span class="comment">// Speed of sound division by 2 (round trip)</span>
      
                      <span class="comment">// Send distance to the serial port</span>
                      <span class="function">Serial.println</span>(distance); <span class="comment">// This will be read by Processing</span>
      
                      <span class="comment">// Short delay before next reading</span>
                      <span class="function">delay</span>(<span class="number">10</span>);
                  }
              </code>
          </pre>
      
          <h2>Processing Code</h2>
      <pre>
          <code>
              <span class="keyword">import</span> processing.serial.*; <span class="comment">// 导入串行库</span>
      
              <span class="keyword">Serial</span> myPort;              <span class="comment">// 创建一个串行对象</span>
              <span class="keyword">int</span> distance;               <span class="comment">// 用于存储接收到的距离的变量</span>
              <span class="keyword">float</span> smoothDistance = <span class="number">0</span>;   <span class="comment">// 平滑后的距离值初始化</span>
              <span class="keyword">float</span> flowerOpenness = <span class="number">0</span>;   <span class="comment">// 表示花朵开放的程度</span>
      
              <span class="comment">// 平滑算法参数</span>
              <span class="keyword">float</span> alpha = <span class="number">0.5</span>;          <span class="comment">// 平滑系数，0-1之间</span>
      
              <span class="function">void setup</span>() {
                <span class="function">size</span>(<span class="number">600</span>, <span class="number">600</span>);
                <span class="function">background</span>(<span class="number">255</span>);
      
                <span class="comment">// 在控制台列出所有可用的串行端口</span>
                <span class="function">printArray</span>(<span class="function">Serial.list</span>());
      
                <span class="comment">// 打开与你的Arduino相对应的端口</span>
                myPort = <span class="keyword">new</span> <span class="keyword">Serial</span>(<span class="keyword">this</span>, <span class="function">Serial.list</span>()[<span class="number">0</span>], <span class="number">9600</span>);
      
                <span class="comment">// 清除缓冲区以删除任何不需要的数据</span>
                myPort.<span class="function">clear</span>();
      
                <span class="comment">// 等待接收串行数据直到换行符'\n'</span>
                myPort.<span class="function">bufferUntil</span>('<span class="string">\n</span>');
              }
      
              <span class="function">void draw</span>() {
                <span class="function">background</span>(<span class="number">255</span>);
                <span class="function">drawFlower</span>(<span class="function">width</span>/<span class="number">2</span>, <span class="function">height</span>/<span class="number">2</span>, flowerOpenness);
              }
      
              <span class="comment">// 绘制花朵的函数</span>
              <span class="function">void drawFlower</span>(<span class="keyword">float</span> x, <span class="keyword">float</span> y, <span class="keyword">float</span> openness) {
                <span class="comment">// 使用循环绘制花瓣，这些花瓣基于花朵开放值</span>
                <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i < <span class="number">8</span>; i++) {
                  <span class="keyword">float</span> angle = <span class="function">PI</span>/<span class="number">4</span> * i;
                  <span class="keyword">float</span> petalLength = <span class="number">100</span> + openness / <span class="number">2</span>; <span class="comment">// 开放度影响花瓣长度</span>
                  <span class="keyword">float</span> petalWidth = <span class="number">50</span> + openness / <span class="number">4</span>;   <span class="comment">// 开放度影响花瓣宽度</span>
                  <span class="function">pushMatrix</span>();
                  <span class="function">translate</span>(x, y);
                  <span class="function">rotate</span>(angle);
                  <span class="function">ellipse</span>(<span class="number">0</span>, <span class="number">0</span>, petalLength, petalWidth);
                  <span class="function">popMatrix</span>();
                }
      
                <span class="comment">// 绘制花朵的中心</span>
                <span class="function">fill</span>(<span class="number">255</span>, <span class="number">204</span>, <span class="number">0</span>);
                <span class="function">ellipse</span>(x, y, <span class="number">50</span> + openness / <span class="number">8</span>, <span class="number">50</span> + openness / <span class="number">8</span>);
              }
      
              <span class="comment">// 当串行端口上有新数据可用时调用的函数</span>
              <span class="function">void serialEvent</span>(<span class="keyword">Serial</span> myPort) {
                <span class="comment">// 读取串行端口</span>
                <span class="keyword">String</span> inString = myPort.<span class="function">readStringUntil</span>('<span class="string">\n</span>');
      
                <span class="keyword">if</span> (inString != <span class="keyword">null</span>) {
                  <span class="comment">// 从字符串中去掉回车和换行符</span>
                  inString = <span class="function">trim</span>(inString);
      
                  <span class="keyword">try</span> {
                    <span class="comment">// 将字符串转换为整数</span>
                    distance = <span class="function">int</span>(inString);
      
                    <span class="comment">// 使用平滑算法计算平滑后的距离</span>
                    smoothDistance = alpha * distance + (<span class="number">1</span> - alpha) * smoothDistance;
      
                    <span class="comment">// 将平滑后的距离映射到花朵的开放度</span>
                    flowerOpenness = <span class="function">map</span>(smoothDistance, <span class="number">10</span>, <span class="number">100</span>, <span class="number">0</span>, <span class="number">300</span>); <span class="comment">// 根据你的设置调整数值</span>
                  } 
                  <span class="keyword">catch</span>(<span class="function">NumberFormatException</span> e) {
                    <span class="comment">// 如果字符串格式存在错误，这里进行捕获错误。</span>
                  }
                }
              }
          </code>
      </pre>
          <h2>Demo Animation</h2>
          <p>This is a real shot of the arduino wiring diagram:</p>
          <img src="https://cdn.jsdelivr.net/gh/y20522/image-cloud/img/219072bc28c351bf33d8cdf0184bb1b.jpg" alt="Demo Animation" style="max-width: 100%; height: auto;">
      
          <p>This is the processing interface diagram:</p>
          <img src="https://cdn.jsdelivr.net/gh/y20522/image-cloud/img/a9a44f776710fe6c33b5999dfed2246.png" alt="Demo Animation" style="max-width: 100%; height: auto;">
      
      
          <p>This animated GIF demonstrates the expected outcome when the ultrasonic sensor detects an object:</p>
          <img src="https://cdn.jsdelivr.net/gh/y20522/image-cloud/img/463fa63f54c8c7145c84ca9aa1722615.gif" alt="Demo Animation" style="max-width: 100%; height: auto;">








        </div>
      </div>
      <img class="myImage" src="https://cdn.jsdelivr.net/gh/y20522/image-cloud/img/e87b4fc24cfb8028371459e13d12640302da61e814df3b-xQpTjE_fw1200_LE_auto_x2_LE_auto_x2.png"/>

      <div id="particles-js"></div>
<!-- 加载粒子库 -->
<script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>

<!-- 配置和运行粒子效果 -->
<script>  
    particlesJS('particles-js', {
        particles: {
            number: { value: 30, density: { enable: true, value_area: 800 } }, //将粒子数量更改为100
            color: { value: '#ffaa00' },
            shape: { type: 'circle' },
            opacity: { 
                value: 0.5, 
                random: true, 
                anim: { 
                    enable: true, // 开启动态改变透明度
                    speed: 1, // 闪烁速度，数值越高，闪烁频率越高
                    opacity_min: 0.1, 
                    sync: false 
                } 
            },
            size: { 
                value: 6, // 改变粒子最大尺寸
                random: true, // 尺寸随机
                anim: { enable: true, speed: 3, size_min: 2} // 开启动态改变尺寸
            },
            line_linked: { enable: false },
            move: { enable: true, speed: 1, direction: 'none', random: true, straight: false, out_mode: 'out', bounce: false, attract: { enable: false, rotateX: 600, rotateY: 600 } }
        },
        retina_detect: true
    });
    const mousePointer = document.createElement('div');
    mousePointer.className = 'mouse-pointer';
    document.body.appendChild(mousePointer);
  
    window.addEventListener('mousemove', function (e) {
      mousePointer.style.left = `${e.pageX}px`;
      mousePointer.style.top = `${e.pageY}px`;
    });
    
    const links = document.querySelectorAll('a');  /* 选择所有超链接 */
    
    links.forEach(link => { /* 对每个链接添加鼠标移入和移出事件 */
      link.addEventListener('mouseenter', () => {
        mousePointer.classList.add('large');
      });
      link.addEventListener('mouseleave', () => {
        mousePointer.classList.remove('large');
      });
    });
    
    links.forEach(link => { 
    link.addEventListener('mouseenter', () => {
      mousePointer.classList.add('mouse-pointer-large');
    });
    link.addEventListener('mouseleave', () => {
      mousePointer.classList.remove('mouse-pointer-large');
    });
  });
  


</script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/highlight.min.js"></script>
    <script>hljs.highlightAll();</script> <!-- 调用highlight.js来应用高亮效果 -->



</body>
</html>


